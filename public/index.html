<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Memrise</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:ital,opsz,wght@0,14..32,100..900;1,14..32,100..900&display=swap" rel="stylesheet">

  <link rel="stylesheet" href="/css/variables.css">
  <link rel="stylesheet" href="/css/reset.css">
  <link rel="stylesheet" href="/css/base.css">
  <link rel="stylesheet" href="/css/layouts.css">
  <link rel="stylesheet" href="/css/buttons.css">
  <link rel="stylesheet" href="/css/tables.css">
  <link rel="stylesheet" href="/css/forms.css">
  <link rel="stylesheet" href="/css/dialogs.css">
  <link rel="stylesheet" href="/css/training.css">
  <link rel="stylesheet" href="/css/pagination.css">
</head>
<body>
  <div class="container">
    <h1>Memrise</h1>

    <div class="actions">
      <button type="button" id="add-vocabulary-btn" class="button is-secondary is-rounded is-icon-only is-large" title="Add vocabulary">
        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M12 5V19M5 12H19" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />
        </svg>
      </button>
      <button type="button" id="start-training-btn" disabled class="button is-primary is-normal">Loading...</button>
    </div>

    <table id="vocabulary-table" class="table">
      <thead>
        <tr>
          <th data-sort="front" class="sortable">Word</th>
          <th data-sort="box" class="sortable">Box</th>
          <th data-sort="next_review" class="sortable">Next Review</th>
          <th width="100"></th>
        </tr>
      </thead>
      <tbody></tbody>
    </table>

    <div id="pagination" class="pagination">
      <div class="pagination-info">
        <span id="pagination-range"></span>
        <span>of</span>
        <span id="pagination-total"></span>
      </div>
      <div class="pagination-controls">
        <label>
          Per page:
          <select id="pagination-limit">
            <option value="10">10</option>
            <option value="25">25</option>
            <option value="50" selected>50</option>
            <option value="100">100</option>
          </select>
        </label>
        <button type="button" id="pagination-prev" class="button is-secondary is-normal" disabled>Previous</button>
        <button type="button" id="pagination-next" class="button is-secondary is-normal" disabled>Next</button>
      </div>
    </div>
  </div>

  <dialog id="vocabulary-dialog">
    <form id="vocabulary-form" method="dialog">
      <h2 id="dialog-title">Add Vocabulary</h2>
      <input type="hidden" name="id">
      <label>
        Front
        <input type="text" name="front" placeholder="e.g. hello" required>
      </label>
      <label>
        Back
        <input type="text" name="back" placeholder="e.g. hola" required>
      </label>
      <div class="dialog-actions">
        <button type="button" id="dialog-cancel-btn" class="button is-secondary is-normal">Cancel</button>
        <button type="button" id="dialog-save-add-btn" class="button is-secondary is-normal">Save and Add</button>
        <button type="submit" id="dialog-submit-btn" class="button is-primary is-normal">Save</button>
      </div>
    </form>
  </dialog>

  <dialog id="training-dialog">
    <div id="training-content">
      <h2>Training</h2>
      <p id="training-progress"></p>
      <div id="training-card">
        <p id="training-front" class="card-front"></p>
        <form id="training-form">
          <input type="text" id="training-answer" placeholder="Type your answer..." autocomplete="off" required>
          <button type="submit" class="button is-primary is-normal">Check</button>
        </form>
        <div id="training-result" hidden>
          <p id="training-feedback"></p>
          <p>Correct answer: <strong id="training-correct-answer"></strong></p>
          <button type="button" id="training-next-btn" class="button is-primary is-normal">Next</button>
        </div>
      </div>
    </div>
    <div id="training-complete" hidden>
      <h2>Training Complete!</h2>
      <p id="training-summary"></p>
      <button type="button" id="training-close-btn" class="button is-primary is-normal">Close</button>
    </div>
    <div id="training-empty" hidden>
      <h2>No Words to Review</h2>
      <p>There are no vocabulary words scheduled for review today.</p>
      <button type="button" id="training-empty-close-btn" class="button is-secondary is-normal">Close</button>
    </div>
  </dialog>

  <script type="module" src="/js/main.js"></script>
</body>
</html>
