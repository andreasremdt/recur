<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <title>Home - Recur</title>
    
    <link rel="icon" type="image/png" href="/icons/favicon-96x96.png" sizes="96x96" />
    <link rel="icon" type="image/svg+xml" href="/icons/favicon.svg" />
    <link rel="shortcut icon" href="/favicon.ico" />
    <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-touch-icon.png" />
    <link rel="manifest" href="/site.webmanifest" />

    <link rel="stylesheet" href="/css/variables.css">
    <link rel="stylesheet" href="/css/reset.css">
    <link rel="stylesheet" href="/css/base.css">
    <link rel="stylesheet" href="/css/layouts.css">
    <link rel="stylesheet" href="/css/buttons.css">
    <link rel="stylesheet" href="/css/icons.css">
    <link rel="stylesheet" href="/css/tables.css">
    <link rel="stylesheet" href="/css/forms.css">
    <link rel="stylesheet" href="/css/dropdowns.css">
    <link rel="stylesheet" href="/css/training.css">
  </head>

  <body>
    <main class="container">
      <header class="app-header">
        <img src="/icons/logo.svg" alt="Recur" width="32" height="32" class="logo">
        
        <button type="button" class="button -secondary" data-action="add-language" hidden>
          <svg width="16" height="16">
            <use href="/icons/icon-defs.svg#plus" />
          </svg>
          Add
        </button>

        <button type="button" data-target="language-dropdown-trigger" popovertarget="language-menu" class="language-trigger" hidden aria-label="Open your languages">
          <svg width="36" height="36">
            <use href="" data-target="language-flag" />
          </svg>
        </button>

        <div id="language-menu" popover class="dropdown" data-target="language-menu">
          <div data-target="language-list"></div>
          <hr class="separator" />
          <button type="button" class="item" data-action="add-language">
            <svg width="16" height="16">
              <use href="/icons/icon-defs.svg#plus" />
            </svg>

            Add language
          </button>
        </div>

        <button type="button" aria-label="Open user menu" popovertarget="user-menu" class="avatar" data-testid="user-menu">
          <svg width="22" height="22">
            <use href="/icons/icon-defs.svg#avatar" />
          </svg>
        </button>

        <div id="user-menu" popover class="dropdown">
          <header class="user-header">
            <p class="user-name" data-target="user-name"></p>
            <p class="user-email" data-target="user-email"></p>
          </header>

          <hr class="separator" />

          <button type="button" class="item" data-action="logout">
            <svg width="16" height="16">
              <use href="/icons/icon-defs.svg#logout" />
            </svg>
            Log out
          </button>
        </div>
      </header>
      
        <header class="table-header">
          <div class="left">
            <h1 class="title">Your vocabulary <span class="count" data-target="word-count"></span></h1>
          </div>

          <button type="button" data-action="add" class="button -secondary">
            <svg width="16" height="16">
              <use href="/icons/icon-defs.svg#plus" />
            </svg>
            Add
          </button>
          <button type="button" data-action="start-training" disabled class="button -primary">Loading...</button>
        </header>
        
        <table class="table-content" id="vocabulary-table">
          <thead>
            <tr>
              <th data-sort="front" class="sortable">Word</th>
              <th data-sort="box" class="sortable">Box</th>
              <th data-sort="next_review" class="sortable">Next Review</th>
              <th width="100"></th>
            </tr>
          </thead>
          <tbody></tbody>
        </table>

        <div id="pagination" class="table-pagination">
          <div class="info">
            <span>Page</span>
            <span id="pagination-range"></span>
            <span>of</span>
            <span id="pagination-total"></span>
          </div>

          <label for="pagination-limit" class="label">
            Per page:
          </label>

          <select id="pagination-limit" class="form-control">
            <option value="10">10</option>
            <option value="25">25</option>
            <option value="50" selected>50</option>
            <option value="100">100</option>
          </select>
          
          <div class="button-group">
            <button type="button" id="pagination-prev" class="button -secondary" disabled aria-label="Previous">
              <svg width="18" height="18">
                <use href="/icons/icon-defs.svg#arrow-left" />
              </svg>
            </button>
            <button type="button" id="pagination-next" class="button -secondary" disabled aria-label="Next">
              <svg width="18" height="18">
                <use href="/icons/icon-defs.svg#arrow-right" />
              </svg>
            </button>
          </div>
        </div>
    </main>

    <dialog data-target="vocabulary-dialog" aria-labelledby="vocabulary-dialog-title">
      <header>
        <h2 id="vocabulary-dialog-title" data-target="title">Add vocabulary</h2>

        <button aria-label="Close dialog" type="button" data-action="close-dialog">
          <svg width="24" height="24">
            <use href="/icons/icon-defs.svg#cross" />
          </svg>
        </button>
      </header>

      <form data-target="vocabulary-form" method="dialog">
        <input type="hidden" name="id">

        <div class="form-group">
          <label for="front" class="form-label">In your language</label>
          <input type="text" id="front" class="form-control" placeholder="e.g. hello" required>
        </div>

        <div class="form-group">
          <label for="back" class="form-label">In the target language</label>
          <input type="text" id="back" class="form-control" placeholder="e.g. hola" required>
        </div>

        <footer>
          <button type="button" class="button -secondary" data-testid="cancel-button" data-action="close-dialog">Close</button>
          <button type="submit" value="save-and-add" data-action="save-and-add" class="button -secondary">Save and add</button>
          <button type="submit" value="save" class="button -primary" data-testid="save-button">Save</button>
        </footer>
      </form>
    </dialog>

    <dialog data-target="training-dialog" aria-labelledby="training-dialog-title">
      <header>
        <h2 id="training-dialog-title">Training</h2>

        <button aria-label="Close dialog" type="button" data-action="close-dialog">
          <svg width="24" height="24">
            <use href="/icons/icon-defs.svg#cross" />
          </svg>
        </button>
      </header>
      
      <div class="progress-indicator" data-target="progress-indicator">
        <progress value="0" min="0" max="0" id="progress"></progress>
        <label for="progress"></label>
      </div>

      <form class="training-form" data-target="training-form" method="dialog">
        <div class="form-group">
          <label for="answer" data-target="label"></label>
          <input type="text" id="answer" class="form-control" placeholder="Type your answer..." autocomplete="off" required autofocus>
        </div>

        <button type="submit" class="button -primary" data-testid="check-button">Check</button>
      </form>

      <div class="training-result" data-target="training-result" hidden>
        <svg width="24" height="24" class="icon" data-target="icon">
          <use href="/icons/icon-defs.svg#check" />
        </svg>
      
        <p data-target="feedback"></p>
        <p>Correct answer: <b data-target="correct-answer"></b></p>
        <button type="button" data-target="next" class="button -primary">Next</button>
      </div>

      <div class="training-complete" data-target="training-complete" hidden>
        <svg width="24" height="24">
          <use href="/icons/icon-defs.svg#emoji-happy" />
        </svg>
      
        <p>Training completed!</p>
        <p data-target="summary"></p>
        <button type="button" data-target="close" class="button -primary">Close</button>
      </div>
    </dialog>

    <dialog data-target="language-dialog" aria-labelledby="language-dialog-title">
      <header>
        <h2 id="language-dialog-title">Add language</h2>

        <button aria-label="Close dialog" type="button" data-action="close-dialog">
          <svg width="24" height="24">
            <use href="/icons/icon-defs.svg#cross" />
          </svg>
        </button>
      </header>
    
      <form data-target="language-form" method="dialog">
        <div class="form-group">
          <label for="language-select" class="form-label">Select a language</label>
          <select id="language-select" class="form-control" required data-target="language-select"></select>
        </div>

        <footer>
          <button type="button" data-action="close-dialog" class="button -secondary">Close</button>
          <button type="submit" class="button -primary">Add language</button>
        </footer>
      </form>
    </dialog>

    <script type="module" src="/js/main.js"></script>
  </body>
</html>